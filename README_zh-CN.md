# UnknownAnimeGamePS
- 一直欢迎贡献者
- 更新至5.0版本

[English](README.md) | 简体中文

## 当前功能


* 登录
* 战斗（-）
* 好友列表
* 传送
* 抽卡系统
* 联机模式 *部分* 可用（-）
* 通过控制台生成怪物
* 背包功能（接收物品/角色，升级物品/角色等)
* 茶壶

# 收藏历史图表
[![收藏历史图表](https://api.star-history.com/svg?repos=XeonSucksLAB/UnknownAnimeGamePS&type=Date)](https://star-history.com/#XeonSucksLAB/UnknownAnimeGamePS&Date)

# 安装指南

## 主要需求

- 获取 [Java 17](https://www.oracle.com/java/technologies/javase/jdk17-archive-downloads.html)
- 获取 [MongoDB Community Server](https://www.mongodb.com/try/download/community)
- 获取游戏版本 REL5.0.0（如果你没有5.0.0客户端，你可以在这里找到并下载）：

| 下载链接 | 包大小 | MD5校验码 |
| :---: | :---: | :---: |
| [GenshinImpact_5.0.0.zip.001](https://autopatchhk.yuanshen.com/client_app/download/pc_zip/20240816185649_LtymMnnIZVQfbLZ2/GenshinImpact_5.0.0.zip.001) | 10.0 GB | 1ebf5dbcbe43bebcda7a57a8d789092e |
| [GenshinImpact_5.0.0.zip.002](https://autopatchhk.yuanshen.com/client_app/download/pc_zip/20240816185649_LtymMnnIZVQfbLZ2/GenshinImpact_5.0.0.zip.002) | 10.0 GB | 57a67026c45d57c28e5b52e24e84cc04 |
| [GenshinImpact_5.0.0.zip.003](https://autopatchhk.yuanshen.com/client_app/download/pc_zip/20240816185649_LtymMnnIZVQfbLZ2/GenshinImpact_5.0.0.zip.003) | 10.0 GB | 5e66ff28eaf6ba89e49f153c0f077d34 |
| [GenshinImpact_5.0.0.zip.004](https://autopatchhk.yuanshen.com/client_app/download/pc_zip/20240816185649_LtymMnnIZVQfbLZ2/GenshinImpact_5.0.0.zip.004) | 10.0 GB | 39f014a760e27f77abed1989739c74c6 |
| [GenshinImpact_5.0.0.zip.005](https://autopatchhk.yuanshen.com/client_app/download/pc_zip/20240816185649_LtymMnnIZVQfbLZ2/GenshinImpact_5.0.0.zip.005) | 10.0 GB | 15f9405a199afba833f18fce288b9c7f |
| [GenshinImpact_5.0.0.zip.006](https://autopatchhk.yuanshen.com/client_app/download/pc_zip/20240816185649_LtymMnnIZVQfbLZ2/GenshinImpact_5.0.0.zip.006) | 10.0 GB | 881432ceab27987b1297c9eefb39f192 |
| [GenshinImpact_5.0.0.zip.007](https://autopatchhk.yuanshen.com/client_app/download/pc_zip/20240816185649_LtymMnnIZVQfbLZ2/GenshinImpact_5.0.0.zip.006) | 3.78 GB | 951f91992b428385294baf9b6c764d49 |

- 或者获取 4.8.0 -> 5.0.0 hdiff:


| 下载链接 | 包大小 | 解压后的包大小 | MD5校验码 |
| :---: | :---: | :---: | :---: |
| [game_4.8.0_5.0.0_hdiff_wZvKsUhQtnBEutrh.zip](https://autopatchhk.yuanshen.com/client_app/update/hk4e_global/game_4.8.0_5.0.0_hdiff_wZvKsUhQtnBEutrh.zip) | 19.52 GB | 39.86 | ec0cc740e01c374cd53d48219c1a4aff |
| [audio_ko-kr_4.8.0_5.0.0_hdiff_gTmBNUAGPpXxrRKC.zip](https://autopatchhk.yuanshen.com/client_app/update/hk4e_global/audio_ko-kr_4.8.0_5.0.0_hdiff_gTmBNUAGPpXxrRKC.zip) | 0.60 GB | 1.31 GB | 64c52d4065a5d5983b37faeb9796a3eb |
| [audio_ja-jp_4.8.0_5.0.0_hdiff_LumPhRraNOjGJMnG.zip](https://autopatchhk.yuanshen.com/client_app/update/hk4e_global/audio_ja-jp_4.8.0_5.0.0_hdiff_LumPhRraNOjGJMnG.zip) | 0.71 GB | 1.63 GB | 934899593f7234bec937fca98c0b0bed |
| [audio_zh-cn_4.8.0_5.0.0_hdiff_ZZiDHvYQeHGKuFeP.zip](https://autopatchhk.yuanshen.com/client_app/update/hk4e_global/audio_zh-cn_4.8.0_5.0.0_hdiff_ZZiDHvYQeHGKuFeP.zip) | 0.62 GB | 1.35 GB | c1073373d6c7b3680217335dc346de50 |
| [audio_en-us_4.8.0_5.0.0_hdiff_vsfAECOkroqoZSqK.zip](https://autopatchhk.yuanshen.com/client_app/update/hk4e_global/audio_en-us_4.8.0_5.0.0_hdiff_vsfAECOkroqoZSqK.zip) | 0.74 GB | 1.58 GB | b5cb77749a0e2fc0e85b6b1ee319a7e9 |

- 从这里下载补丁。[OSREL (国际服)](https://watchandy.me/version.dll) [CNREL (国服)](https://watchandy.me/cn/version.dll)
- 将 `version.dll` 放入游戏客户端的文件夹中。
- 下载旧版本的 [mihoyonet.dll](https://autopatchhk.yuanshen.com/client_app/download/pc_zip/20231030132335_iOEfPMcbrXpiA8Ca/ScatteredFiles/GenshinImpact_Data/Plugins/mihoyonet.dll)（4.2.0版）。
- 将旧版本的 `mihoyonet.dll` 放入 `GenshinImpact_Data/Plugins` 文件夹中。

### 注意

在UnknownAnimeGamePS Grasscutter fork的5.0版本中，我添加了一个名为 "useXorEncryption" 的选项，默认情况下是禁用的。如果启用此选项，你将无法使用上面提供的补丁进入游戏，你必须使用一个补丁来修补客户端的RSA密钥。由于我技术有限，我无法提供适用于PC环境的更好补丁。如果你有更好的补丁，请通过Discord（@watchandytw）与我联系，谢谢。

## 搭建服务器

### 1. 克隆仓库

```shell
git clone --recurse-submodules https://github.com/XeonSucksLAB/UnknownAnimeGamePS.git
cd UnknownAnimeGamePS
```

**Curiosity**: Grasscutter使用Gradle来处理依赖和构建。

### 2. 编译实际的服务器

**附注**：根据你的操作系统，确保在适当的位置添加前缀和后缀（Linux 系统使用 `./` | Windows 系统使用 `.\` | 当编译服务器 JAR/handbook 文件时，Windows 系统添加 `.bat`）。

**要求**：

[Java 开发工具包 17 | JDK](https://oracle.com/java/technologies/javase/jdk17-archive-downloads.html) 或更高版本

[Git](https://git-scm.com/downloads)

- **附注**：某些系统上可能会生成Handbook失败。要禁用手册生成，请在 `gradlew jar` 命令中追加 `-PskipHandbook=1`。

- **对于 Windows**：
```shell
.\gradlew.bat
.\gradlew.bat jar
```
*如果您想知道，第一个命令是设置环境，第二个命令是构建服务器 JAR 文件。*

- **对于 Linux**：
```bash
chmod +x gradlew
./gradlew jar
```
*如果你在想，第一个命令是为了使文件可执行，接下来的命令与 Windows 系统的解释相同。*

### 你可以在项目根目录找到输出的 JAR 文件。

### 手动编译Handbook
```shell
./gradlew generateHandbook
```


## 你已经完成了构建部分！

- 启动服务器。
- 启动客户端并登录。

- 享受吧！

### 故障排除
- 需要使用 Fiddler 或其他代理工具。
